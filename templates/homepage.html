<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="C:\Users\ashwi\Project\GitExcercise\static\css\homepage.css">
    <link rel="icon" href="type" type="image/icon type">
    <title> QuickRide </title>
    <style>
        .confirmation {
            display: none;
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #000;
        }
    </style>
</head>
<body>
    <div class="image">
        <img src="C:\Users\ashwi\Project\GitExcercise\static\Trainbackground.jpg" alt="Trainbackground">
    </div>
    <div class="flex">
        <form id="booking-form">
            <div>
                <label for="origin"> Origin:</label>
                <select id="origin" name="origin">
                <option value="Alor Setar">Alor Setar</option>
                <option value="Anak Bukit">Anak Bukit</option>
                <option value="Gurun">Gurun</option>
                <option value="Sungai Petani">Sungai Petani</option>
                <option value="Arau">Arau</option>
                <option value="Padang Besar">Padang Besar</option>
                <option value="Jerantut">Jerantut</option>
                <option value="Kampung Berkam">Kampung Berkam</option>
                <option value="Kuala Lipis">Kuala Lipis</option>
                <option value="Batu Gajah">Batu Gajah</option>
                <option value="Ipoh">Ipoh</option>
                <option value="Kampar">Kampar</option>
                <option value="Kuala Kangsar">Kuala Kangsar</option>
                <option value="Slim River">Slim River</option>
                <option value="Sungkai">Sungkai</option>
                <option value="Taiping">Taiping</option>
                <option value="Nilai">Nilai</option>
                <option value="Seremban">Seremban</option>
                <option value="Kajang">Kajang</option>
                <option value="Rawang">Rawang</option>
                <option value="Sungai Buloh">Sungai Buloh</option>
                <option value="Batang Melaka">Batang Melaka</option>
                <option value="KL Sentral">KL Sentral</option>
                <option value="Kuala Lumpur">Kuala Lumpur</option>
                <option value="Segamat">Segamat</option>
                <option value="JB Sentral">JB Sentral</option>
                <option value="Gua Musang">Gua Musang</option>
                <option value="Pasir Mas">Pasir Mas</option>
                <option value="Sri Bintang">Sri Bintang</option>
                <option value="Bukit Mertajam">Bukit Mertajam</option>
                <option value="Butterworth">Butterworth</option>
                </select>
            </div>
            <div>
                <label for="destination"> Destination:</label>
                <select id="destination" name="destination"   
                <option value="Alor Setar">Alor Setar</option>
                <option value="Anak Bukit">Anak Bukit</option>
                <option value="Gurun">Gurun</option>
                <option value="Sungai Petani">Sungai Petani</option>
                <option value="Arau">Arau</option>
                <option value="Padang Besar">Padang Besar</option>
                <option value="Jerantut">Jerantut</option>
                <option value="Kampung Berkam">Kampung Berkam</option>
                <option value="Kuala Lipis">Kuala Lipis</option>
                <option value="Batu Gajah">Batu Gajah</option>
                <option value="Ipoh">Ipoh</option>
                <option value="Kampar">Kampar</option>
                <option value="Kuala Kangsar">Kuala Kangsar</option>
                <option value="Slim River">Slim River</option>
                <option value="Sungkai">Sungkai</option>
                <option value="Taiping">Taiping</option>
                <option value="Nilai">Nilai</option>
                <option value="Seremban">Seremban</option>
                <option value="Kajang">Kajang</option>
                <option value="Rawang">Rawang</option>
                <option value="Sungai Buloh">Sungai Buloh</option>
                <option value="Batang Melaka">Batang Melaka</option>
                <option value="KL Sentral">KL Sentral</option>
                <option value="Kuala Lumpur">Kuala Lumpur</option>
                <option value="Segamat">Segamat</option>
                <option value="JB Sentral">JB Sentral</option>
                <option value="Gua Musang">Gua Musang</option>
                <option value="Pasir Mas">Pasir Mas</option>
                <option value="Sri Bintang">Sri Bintang</option>
                <option value="Bukit Mertajam">Bukit Mertajam</option>
                <option value="Butterworth">Butterworth</option>
                </select>
          </div>
          <div>
                <label for="departure-time">Departure Time and Date:</label>
                <input type="datetime-local" id="departure-time" name="departure-time" required>
            </div>
            <div>
                <label for="arrival-time">Arrival Time and Date:</label>
                <input type="datetime-local" id="arrival-time" name="arrival-time" required>
            </div>
            <div>
                <label for="pax">Number of Pax:</label>
                <input type="number" id="pax" name="pax" min="1" max="10" required>
            </div>
            <button type="submit">Book Ticket</button>
        </form>
    </div>

    <div class="confirmation" id="confirmation">
        <h2>Booking Confirmation</h2>
        <p id="confirmation-details"></p>
    </div>

    <script>
        function setMinDateTime() {
            const now = new Date();
            const localISOTime = new Date(now.getTime() - now.getTimezoneOffset() * 60000).toISOString().slice(0, 16);
            document.getElementById('departure-time').setAttribute('min', localISOTime);
        }

        function updateArrivalMinTime() {
            const departureTime = document.getElementById('departure-time').value;
            document.getElementById('arrival-time').setAttribute('min', departureTime);
        }

        document.getElementById('booking-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;
            const departureTime = document.getElementById('departure-time').value;
            const arrivalTime = document.getElementById('arrival-time').value;
            const pax = document.getElementById('pax').value;

            const confirmationDetails = `
                Origin: ${origin}<br>
                Destination: ${destination}<br>
                Departure Time and Date: ${departureTime}<br>
                Arrival Time and Date: ${arrivalTime}<br>
                Number of Pax: ${pax}
            `;
            document.getElementById('confirmation-details').innerHTML = confirmationDetails;
            document.getElementById('confirmation').style.display = 'block';
        });

        document.getElementById('origin').addEventListener('change', function() {
            const originValue = this.value;
            const destinationSelect = document.getElementById('destination');
            const options = Array.from(destinationSelect.options);
            
            options.forEach(option => {
                option.disabled = (option.value === originValue);
            });
        });

        document.getElementById('departure-time').addEventListener('change', updateArrivalMinTime);

        window.onload = function() {
            setMinDateTime();
            updateArrivalMinTime(); // Ensure arrival time is updated on load
        };
    </script>

</body><script>
        const stations = [
            "Alor Setar", "Anak Bukit", "Gurun", "Sungai Petani", "Arau", "Padang Besar", "Jerantut", "Kampung Berkam", "Kuala Lipis", "Batu Gajah", "Ipoh",
            "Kampar", "Kuala Kangsar", "Slim River", "Sungkai", "Taiping", "Nilai",
            
        ];

        function calculateFare(origin, destination) {
            const originIndex = stations.indexOf(origin);
            const destinationIndex = stations.indexOf(destination);
            const distance = Math.abs(destinationIndex - originIndex);
            return (distance * 0.60).toFixed(2);
        }

        function updatePrice() {
            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;

            if (origin && destination && origin !== destination) {
                const totalPrice = calculateFare(origin, destination);
                document.getElementById('price').innerText = `RM ${totalPrice}`;
            } else {
                document.getElementById('price').innerText = 'RM 0.00';
            }
        }

        document.getElementById('origin').addEventListener('change', function() {
            updatePrice();
            const originValue = this.value;
            const destinationSelect = document.getElementById('destination');
            const options = Array.from(destinationSelect.options);
            
            options.forEach(option => {
                option.disabled = option.value === originValue; // Disable same as origin
            });
        });

        document.getElementById('destination').addEventListener('change', updatePrice);

        document.getElementById('booking-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the form from submitting normally

            // Gather form data
            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;
            const departureTime = document.getElementById('departure-time').value;
            const arrivalTime = document.getElementById('arrival-time').value;
            const pax = document.getElementById('pax').value;
            const price = document.getElementById('price').innerText;

            // Display the confirmation
            alert(`Origin: ${origin}\nDestination: ${destination}\nDeparture Time: ${departureTime}\nArrival Time: ${arrivalTime}\nNumber of Pax: ${pax}\nTotal Price: ${price}`);
        });

        // Initialize price on page load
        updatePrice();
    </script>
</html>

